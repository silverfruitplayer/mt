<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HLS Player</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="https://unpkg.com/hls-video-element@0.0"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
    <script>
        const password = prompt('Enter the password to access XXX Area:');

        if (password === 'secured') {
            // Password is correct, proceed with the page content

            alert("Welcome to XXX Area! Enjoy, Bruh. Kthnxbye.");

            const m3u8Links = [
                'https://cdn21n.xxxbox.me/hls/51000/51974/51974,_144p,_250p,,_720p,.mp4.urlset/master.m3u8?token=exp=1704352935~acl=/*~hmac=9b2f2c49ef122cbcdc7ad5dc364401ad7d07accfcb0dade7c45d72d806ac3c33',
                // Add more M3U8 links as needed
            ];

            const gallery = document.getElementById('gallery');

            m3u8Links.forEach((m3u8Link, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = 'thumbnail';
                thumbnail.addEventListener('click', () => {
                    playVideo(m3u8Link);
                });

                const thumbnailImage = document.createElement('img');
                thumbnailImage.src = `https://placeholder.com/300x200?text=Video${index + 1}`; // Replace with actual thumbnails
                thumbnail.appendChild(thumbnailImage);

                const title = document.createElement('div');
                title.className = 'title';
                title.textContent = `Video ${index + 1}`;
                thumbnail.appendChild(title);

                gallery.appendChild(thumbnail);
            });

            function playVideo(url) {
                const videoElement = document.createElement('video');
                videoElement.controls = true;
                videoElement.style.maxWidth = '50%';
                videoElement.style.maxHeight = '50%';

                if (Hls.isSupported()) {
                    const hls = new Hls();
                    hls.loadSource(url);
                    hls.attachMedia(videoElement);
                } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                    videoElement.src = url;
                }

                videoElement.addEventListener('loadedmetadata', () => {
                    videoElement.play();
                });

                const modal = document.createElement('div');
                modal.style.position = 'fixed';
                modal.style.top = '0';
                modal.style.left = '0';
                modal.style.width = '100%';
                modal.style.height = '100%';
                modal.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
                modal.style.display = 'flex';
                modal.style.justifyContent = 'center';
                modal.style.alignItems = 'center';

                modal.addEventListener('click', () => {
                    closeModal(modal, videoElement);
                });

                modal.appendChild(videoElement);
                document.body.appendChild(modal);
            }

            document.addEventListener('contextmenu', function (event) {
                event.preventDefault();
            });

            document.addEventListener('DOMContentLoaded', function () {
                const stayBtn = document.getElementById('channelsBtn');
                const openBtn = document.getElementById('videosBtn');
                const hlsBtn = document.getElementById('hlsBtn');

                stayBtn.addEventListener('click', function () {
                    closeModal();
                });

                openBtn.addEventListener('click', function () {
                    redirect1();
                });

                hlsBtn.addEventListener('click', function () {
                    redirect2();
                });

            });

            function closeModal(modal, videoElement) {
                modal.remove();
                videoElement.pause();
                videoElement.removeAttribute('src');
                videoElement.load();
            }
            function redirect1() {
                window.location.href = 'huh.html';
            }

            function redirect2() {
                window.location.href = 'hls.html';
            }

            window.addEventListener('popstate', () => {
                const modal = document.querySelector('div');
                const videoElement = document.querySelector('video');
                closeModal(modal, videoElement);
            });
        } else {
            // Incorrect password, display an error message or redirect to another page
            alert("Incorrect password. Access denied.");
            // You can redirect to another page using:
            window.location.href = '404.html';
        }
    </script>
</body>
</html>
